<section class="container">
  <div>
    <mat-grid-list cols="2">
      <mat-grid-tile
        *ngFor="let product of products; index as i"
      >
        <mat-card class="example-card">
          <mat-card-header>
            <mat-card-title>{{product.name}}</mat-card-title>
            <mat-card-subtitle>Note : {{getAverage(i)}}</mat-card-subtitle>
          </mat-card-header>
          <mat-card-content>
            <p>{{product.description}}</p>
          </mat-card-content>
          <mat-card-actions>
            <button mat-button
                    (click)="choosedProduct = product"
            >Voter</button>
            <button mat-button>share</button>
            <button mat-button color="warn" (click)="deleteProduct(product)">Supprimer ce produit</button>
          </mat-card-actions>
        </mat-card>
      </mat-grid-tile>
    </mat-grid-list>
  </div>
  <app-product-show
    [product]="choosedProduct"
    (note)="onVoted($event)"
  ></app-product-show>
</section>
